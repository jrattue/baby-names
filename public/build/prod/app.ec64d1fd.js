(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{XENs:function(e,t,n){},ng4s:function(e,t,n){"use strict";n.r(t);n("XENs"),n("pNMO"),n("4Brf"),n("0oug"),n("TeQF"),n("pjDv"),n("J30X"),n("4mDm"),n("2B1R"),n("+2oP"),n("DQNa"),n("wLYn"),n("sMBO"),n("uL8W"),n("eoL8"),n("NBAS"),n("ExoC"),n("07d7"),n("5s+n"),n("SuFq"),n("JfAA"),n("PKPk"),n("3bBZ");var r=n("q1tI"),o=n.n(r),a=n("LmJ8"),i=n("/Zut"),c=n.n(i);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,i=d(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={names:[],term:"",searchOptions:[],loading:!1,width:700},t.doSearch=t.doSearch.bind(h(t)),t.updateWindowDimensions=t.updateWindowDimensions.bind(h(t)),t}return t=u,(n=[{key:"addName",value:function(e){var t=this;fetch("/api/details/".concat(e)).then((function(e){return e.json()})).then((function(e){e.colour=t.getRandomColor(e.id);var n=l(t.state.names);n.push(e),t.setState({names:n,searchOptions:[],term:""})}))}},{key:"removeName",value:function(e){console.log(e),console.log(this.state.names);var t=this.state.names.filter((function(t){return console.log(t),!(t.id===e)}));this.setState({names:t})}},{key:"doSearch",value:function(e){var t=this,n=e.target.value;this.setState({term:n}),fetch("/api/search/".concat(n)).then((function(e){return e.json()})).then((function(e){t.setState({searchOptions:e})}))}},{key:"getRandomColor",value:function(e){return c()({luminosity:"dark"})}},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var e=document.querySelector(".graph-container");console.log(e.clientWidth),this.setState({width:e.clientWidth-20})}},{key:"render",value:function(){var e=this,t=0,n=1,r=this.state.names.map((function(e){var r=e.years.map((function(e){return e.rank>t&&(t=e.rank),e.rank<n&&(n=e.rank),{x:e.year,y:e.rank}}));return o.a.createElement(a.b,{data:r,color:e.colour})}));return o.a.createElement("div",{className:"row graph"},o.a.createElement("div",{className:"col-12 col-md-3"},o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"term",onChange:this.doSearch,value:this.state.term,placeholder:"Search for name",autoComplete:"off"}),this.state.searchOptions.length>0&&o.a.createElement("div",{className:"autocomplete-options"},o.a.createElement("ul",null,this.state.searchOptions.map((function(t){return o.a.createElement("li",{onClick:function(){return e.addName(t.id)},key:t.id},t.name," ",o.a.createElement("small",null,"(",t.gender,")"))}))))),this.state.names.length>0&&o.a.createElement("div",{className:"mt-2"},o.a.createElement("ul",{className:"names"},this.state.names.map((function(t){return o.a.createElement("li",{key:t.id,style:{color:t.colour}},o.a.createElement("div",null,t.name," ",o.a.createElement("small",null,"(",t.gender,")")),o.a.createElement("div",{className:"names--cta"},o.a.createElement("a",{href:"#",onClick:function(){return e.removeName(t.id)}},"remove"),o.a.createElement("a",{href:"/details/".concat(t.id),target:"_blank"},"more details")))}))))),o.a.createElement("div",{className:"col-12 col-md-9 graph-container"},o.a.createElement(a.d,{width:this.state.width,height:500,yDomain:[t,n]},o.a.createElement(a.a,null),r,o.a.createElement(a.c,{title:"Year"}),o.a.createElement(a.e,{title:"Rank"}))))}}])&&m(t.prototype,n),r&&m(t,r),u}(o.a.Component),b=n("i8i4"),g=n.n(b),E=o.a.createElement(v),w=document.getElementById("root");w&&g.a.render(E,w),document.querySelector("header span.menu-toggle").addEventListener("click",(function(){document.querySelector("nav").classList.toggle("active")}))}},[["ng4s","runtime",0]]]);